
<mat-dialog-content>
    <form novalidate [formGroup]="form">
        <table class="full-width" cellspacing="0" style="width: 100%; margin: 0;">
            <tr class="col-lg-12 row" style="padding: 0%; margin: 0%;">
                <td class="col-lg-12" style="">
                    <mat-form-field class="full-width  offset-1 col-lg-10"
                                    [class.mgb15]="form.get('email').dirty && form.get('email').invalid">
                        <mat-label>Address mail</mat-label>
                        <input class="backInput" type="email" matInput  formControlName="email" required name="email"
                                  style="width: 100%;" placeholder="prenom.nom@loria.fr"
                               pattern="([a-z]+)\.([a-z]+)@loria.fr"/>
                        <mat-error *ngIf="form.get('email').dirty && form.get('email').hasError('required')">
                            L'Address mail est <strong>required</strong>
                        </mat-error>
                        <mat-error *ngIf="form.get('email').dirty && !form.get('email').hasError('required')
                        && form.get('email').hasError('loriaEmail')">
                             email est incorrecte <strong>(ex: prenom.nom@loria.fr)</strong>
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="full-width offset-1 col-lg-10"
                                    [class.mgb15]="form.get('password').dirty && form.get('password').invalid">
                        <mat-label>Mot de passe</mat-label>
                        <input class="backInput" type="password" matInput  formControlName="password" required name="password"
                               style="width: 100%;" placeholder="il y a une erreur"/>
                        <mat-error *ngIf="form.get('password').dirty && form.get('password').hasError('required')">
                            Le mot de passe est <strong>required</strong>
                        </mat-error>
                    </mat-form-field>
                    <div class="validatorPassword full-width offset-1 col-lg-10"
                         *ngIf="form.get('password').dirty && !form.get('password').hasError('required')">
                        <p class="valPerror" *ngIf="form.get('password').dirty && form.get('password').hasError('minlength')">
                            <nb-icon icon="close-outline"></nb-icon>
                            Le mot de passe doit contenir au <strong>minimum 8 caractère</strong></p>
                        <p class="valPsucces" *ngIf="form.get('password').dirty && !form.get('password').hasError('minlength')">
                            <nb-icon icon="checkmark-circle-outline"></nb-icon>
                            Le mot de passe contient au <strong>moins 8 caractère</strong></p>
                        <p class="valPerror" *ngIf="form.get('password').dirty && form.get('password').hasError('hasNumber')">
                            <nb-icon icon="close-outline"></nb-icon>
                            Le mot de passe doit contenir un <strong>nombre</strong></p>
                        <p class="valPsucces" *ngIf="form.get('password').dirty && !form.get('password').hasError('hasNumber')">
                            <nb-icon icon="checkmark-circle-outline"></nb-icon>
                            Le mot de passe doit contenir un <strong>nombre</strong></p>
                        <p class="valPerror" *ngIf="form.get('password').dirty && form.get('password').hasError('hasCapital')">
                            <nb-icon icon="close-outline"></nb-icon>
                            Le mot de passe doit contenir un caractère <strong>capital</strong></p>
                        <p class="valPsucces" *ngIf="form.get('password').dirty && !form.get('password').hasError('hasCapital')">
                            <nb-icon icon="checkmark-circle-outline"></nb-icon>
                            Le mot de passe doit contient un caractère <strong>capital</strong></p>
                        <p class="valPerror" *ngIf="form.get('password').dirty && form.get('password').hasError('hasMinuscule')">
                            <nb-icon icon="close-outline"></nb-icon>
                            Le mot de passe doit contenir un caractère <strong>minuscule</strong></p>
                        <p class="valPsucces" *ngIf="form.get('password').dirty && !form.get('password').hasError('hasMinuscule')">
                            <nb-icon icon="checkmark-circle-outline"></nb-icon>
                            Le mot de passe contient un caractère <strong>minuscule</strong></p>
                        <p class="valPerror" *ngIf="form.get('password').dirty && form.get('password').hasError('hasSpecial')">
                            <nb-icon icon="close-outline"></nb-icon>
                            Le mot de passe doit contenir un caractère <strong>spécial</strong></p>
                        <p class="valPsucces" *ngIf="form.get('password').dirty && !form.get('password').hasError('hasSpecial')">
                            <nb-icon icon="checkmark-circle-outline"></nb-icon>
                            Le mot de passe contient un caractère <strong>spécial</strong></p>
                    </div>
                    <mat-form-field class="full-width offset-1 col-lg-10"
                                    [class.mgb15]="form.get('confpassword').dirty && form.get('confpassword').invalid">
                        <mat-label>Confirmer le Mot de passe</mat-label>
                        <input class="backInput" type="password" matInput  formControlName="confpassword" required name="confpassword"
                               style="width: 100%;" placeholder="il y a une erreur"/>
                        <mat-error *ngIf="form.get('confpassword').dirty && form.get('confpassword').hasError('required')">
                            La confirmation du mot de passe est <strong>obligatoire</strong>
                        </mat-error>
                        <mat-error *ngIf="form.get('confpassword').dirty && form.get('confpassword').hasError('required')">
                            Le mot de passe et la confirmation doit être <strong>identique</strong>
                        </mat-error >
                        <mat-error *ngIf="form.get('confpassword').dirty &&
                        form.get('confpassword').hasError('mustMatch')">
                            Le mot de passe et la confirmation doit être <strong>identique</strong>
                        </mat-error >
                    </mat-form-field>
                </td>
            </tr>
        </table>
    </form>
</mat-dialog-content>
<mat-dialog-actions style="padding: 0;margin: 2% auto 2% auto;" class="col-12 row">
    <button class="col-3" (click)="cancel()" style="margin: 0 2% 0 auto;"
            outline nbButton status="danger">Annuler</button>
    <button class="col-3" (click)="submit(form.value)" [disabled]="form.invalid" style="margin: 0 auto 0 2%;"
            outline nbButton type="submit" >Valider</button>
</mat-dialog-actions>